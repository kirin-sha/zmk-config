CONFIG_ZMK_KEYBOARD_NAME="hontonopage"

CONFIG_ZMK_BLE=y

CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

CONFIG_ZMK_BATTERY_REPORTING=y

# RGB LED設定（バッテリー節約のため一部調整）
CONFIG_RGBLED_WIDGET_INTERVAL_MS=250
CONFIG_RGBLED_WIDGET_BATTERY_LEVEL_HIGH=50
CONFIG_RGBLED_WIDGET_BATTERY_LEVEL_CRITICAL=10
CONFIG_RGBLED_WIDGET_BATTERY_COLOR_CRITICAL=1

CONFIG_RGBLED_WIDGET_CONN_COLOR_CONNECTED=4
CONFIG_RGBLED_WIDGET_CONN_COLOR_ADVERTISING=3
CONFIG_RGBLED_WIDGET_CONN_COLOR_DISCONNECTED=1

CONFIG_RGBLED_WIDGET_SHOW_LAYER_COLORS=y
CONFIG_RGBLED_WIDGET_LAYER_0_COLOR=4
CONFIG_RGBLED_WIDGET_LAYER_1_COLOR=5
CONFIG_RGBLED_WIDGET_LAYER_2_COLOR=2
CONFIG_RGBLED_WIDGET_LAYER_3_COLOR=3
CONFIG_RGBLED_WIDGET_LAYER_4_COLOR=0  # 使わないレイヤーは消灯

CONFIG_RGBLED_WIDGET=y

CONFIG_ZMK_STUDIO=y
CONFIG_ZMK_STUDIO_LOCKING=n

# パフォーマンス最適化
CONFIG_ZMK_USB_LOGGING=n
CONFIG_LOG=n
CONFIG_ZMK_LOG_LEVEL=0

# BLE接続の安定化
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# 深いスリープモード設定（15分で自動スリープ）
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000

# 外部電源制御（LED等の電力カット）
CONFIG_ZMK_EXT_POWER=y

# ソフトオフ機能（完全電源オフ）
CONFIG_ZMK_PM_SOFT_OFF=y

# BLE設定の最適化
CONFIG_BT_MAX_CONN=1
CONFIG_BT_MAX_PAIRED=5
CONFIG_ZMK_BLE_CLEAR_BONDS_ON_START=n

# nRF52840専用最適化
CONFIG_CLOCK_CONTROL_NRF_K32SRC_RC=y
CONFIG_SOC_DCDC_NRF52X=y

# メモリ最適化
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048